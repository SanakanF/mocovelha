<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Moco Moco - Jogo da Velha</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <main class="page">
      <header class="header">
        <h1>Moco Moco - Jogo da Velha</h1>
        <p class="subtitle">Escolha seu modo de jogo e desafie a IA treinada com Q-Learning.</p>
      </header>

      <section class="controls" aria-label="Configurações do jogo">
        <div class="mode-controls">
          <h2>Modo de jogo</h2>
          <div class="mode-buttons" role="group" aria-label="Seleção de modo">
            <button type="button" class="mode-button active" data-mode="pvp">Humano vs Humano</button>
            <button type="button" class="mode-button" data-mode="ai">Humano vs IA</button>
          </div>
        </div>

        <div class="ai-controls inactive" aria-label="Seleção de nível da IA">
          <h2>Nível da IA</h2>
          <p class="hint">Escolha quantos episódios de treino a IA terá antes da partida.</p>
          <div class="level-buttons" role="group" aria-label="Níveis de treino">
            <button type="button" class="level-button active" data-level="level_0">Nível 0 - Aleatório (0 episódios)</button>
            <button type="button" class="level-button" data-level="level_1k">Nível 1 - 1.000 episódios</button>
            <button type="button" class="level-button" data-level="level_10k">Nível 2 - 10.000 episódios</button>
            <button type="button" class="level-button" data-level="level_50k">Nível 3 - 50.000 episódios</button>
          </div>
          <div class="ia-status" aria-live="polite">
            <p>Status da IA:</p>
            <ul>
              <li>Nível atual: <span id="ia-level">level_0</span></li>
              <li>Episódios treinados: <span id="ia-episodes">0</span></li>
              <li>Estados conhecidos: <span id="ia-states">0</span></li>
              <li>Modelo carregado: <span id="ia-loaded">Não</span></li>
            </ul>
            <button type="button" id="train-ia-btn">Treinar IA neste nível</button>
          </div>
        </div>
      </section>

      <section class="game" aria-label="Área do jogo">
        <div class="status" id="status-message" role="status">Selecione um modo e jogue!</div>
        <div class="board" role="grid" aria-label="Tabuleiro do jogo da velha">
          <button class="cell" data-index="0" aria-label="Casa 1"></button>
          <button class="cell" data-index="1" aria-label="Casa 2"></button>
          <button class="cell" data-index="2" aria-label="Casa 3"></button>
          <button class="cell" data-index="3" aria-label="Casa 4"></button>
          <button class="cell" data-index="4" aria-label="Casa 5"></button>
          <button class="cell" data-index="5" aria-label="Casa 6"></button>
          <button class="cell" data-index="6" aria-label="Casa 7"></button>
          <button class="cell" data-index="7" aria-label="Casa 8"></button>
          <button class="cell" data-index="8" aria-label="Casa 9"></button>
        </div>
        <button type="button" class="reset-button" id="reset-button">Reiniciar partida</button>
      </section>
    </main>

    <!-- Painel de desenvolvedor oculto -->
    <div id="dev-panel" class="dev-panel" aria-hidden="true">
      <div class="dev-panel__card" role="dialog" aria-modal="true" aria-labelledby="dev-panel-title">
        <header class="dev-panel__header">
          <h2 id="dev-panel-title">Painel de Desenvolvedor</h2>
          <button type="button" class="dev-panel__close" id="dev-panel-close" aria-label="Fechar painel">
            ✕
          </button>
        </header>
        <div class="dev-panel__content">
          <p class="dev-panel__intro">Dados em tempo real do agente Q-Learning.</p>
          <dl class="dev-panel__stats">
            <div>
              <dt>Nível atual</dt>
              <dd id="dev-level">—</dd>
            </div>
            <div>
              <dt>Total de episódios</dt>
              <dd id="dev-episodes">—</dd>
            </div>
            <div>
              <dt>Estados conhecidos</dt>
              <dd id="dev-states">—</dd>
            </div>
            <div>
              <dt>Meta de episódios</dt>
              <dd id="dev-target">—</dd>
            </div>
            <div>
              <dt>Modelo carregado</dt>
              <dd id="dev-loaded">—</dd>
            </div>
          </dl>
          <section class="dev-panel__qtable">
            <h3>Q-Table (amostra)</h3>
            <p id="dev-qtable-message">
              TODO: conectar uma amostra da Q-Table quando o agente expuser estes dados via API.
            </p>
          </section>
        </div>
      </div>
    </div>

    <script src="script.js"></script>
  </body>
</html>
